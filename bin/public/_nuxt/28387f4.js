(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{442:function(e,r,t){"use strict";t.r(r);var n=t(367),o=t(439),c=t(443),l=t(440),v=t(363),m=t(437),d=t(171),f=t(438),h=t(441),w=t(31),k=(t(97),t(411)),x=t.n(k),R={name:"IndexPage",data:function(){return{power:0,mute:0,volume:20,input:4,reset:"~",inputs:[{label:"Balanced",value:1},{label:"Analogue 1",value:2},{label:"Analogue 2",value:3},{label:"Coaxial",value:4},{label:"Optical 1",value:5},{label:"Optical 2",value:6},{label:"Optical 3",value:7},{label:"USB",value:8},{label:"Network",value:9}],presets:[],snackbar:!1,timeoutId:null,volumeSafeThreshold:65,exceedSafeThreshold:!1}},fetch:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.loadPresets();case 2:return r.next=4,e.loadStatus();case 4:case"end":return r.stop()}}),r)})))()},methods:{powerOn:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.power){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.doRequest("/command/p/1");case 4:return r.next=6,e.loadStatus();case 6:case"end":return r.stop()}}),r)})))()},powerOff:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.power){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.doRequest("/command/p/0",(function(r){var p=r.p;e.power=p}));case 4:case"end":return r.stop()}}),r)})))()},toggleMute:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==e.volume){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.doRequest("/command/m/t",(function(r){var t=r.m;e.mute=t}));case 4:case"end":return r.stop()}}),r)})))()},volumeUp:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.exceedSafeThreshold||!(e.volume>=e.volumeSafeThreshold)||confirm("Are you sure you want to exceed the safety threshold?")){r.next=2;break}return r.abrupt("return");case 2:return e.exceedSafeThreshold=e.volume>=e.volumeSafeThreshold,r.next=5,e.doRequest("/command/v/u",(function(r){var t=r.v;e.volume=t,e.mute=0}));case 5:case"end":return r.stop()}}),r)})))()},volumeDown:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.doRequest("/command/v/d",(function(r){var t=r.v;e.volume=t,e.mute=0===t?1:0}));case 2:case"end":return r.stop()}}),r)})))()},selectInput:function(e){var r=this;return Object(w.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.input!==e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r.doRequest("/command/i/".concat(e),(function(e){var i=e.i;r.input=i}));case 4:case"end":return t.stop()}}),t)})))()},selectPreset:function(e){var r=this;return Object(w.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.doRequest("/preset/".concat(e),(function(e){var i=e.i,t=e.v;r.volume=t,r.input=i}));case 2:case"end":return t.stop()}}),t)})))()},loadStatus:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.doRequest("/status",(function(r){var p=r.p,t=r.m,n=r.v,i=r.i,o=r.r;e.power=p,e.volume=n,e.mute=t,e.input=i,e.reset=o}));case 2:case"end":return r.stop()}}),r)})))()},loadPresets:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.doRequest("/presets",(function(data){e.presets=data}));case 2:case"end":return r.stop()}}),r)})))()},doRequest:function(e,r){var t=this;return Object(w.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.snackbar=!1,n.prev=1,n.next=4,x.a.get(e,{baseURL:t.$config.isDev?"http://localhost:43931/api":"/api",timeout:3e3}).then((function(e){return null==r?void 0:r(e.data)}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0.message),t.snackbar=!0;case 10:case"end":return n.stop()}}),n,null,[[1,6]])})))()}}},_=t(93),component=Object(_.a)(R,(function(){var e=this,r=e._self._c;return r(c.a,[r(m.a,{attrs:{value:e.$fetchState.pending,absolute:""}},[r(d.a,{attrs:{indeterminate:""}})],1),e._v(" "),r(f.a,[r(o.a,{attrs:{cols:"6"}},[r(n.a,{attrs:{color:e.power?"primary":void 0,block:"",large:"",depressed:""},on:{click:e.powerOn}},[e._v("\n        On\n      ")])],1),e._v(" "),r(o.a,{attrs:{cols:"6"}},[r(n.a,{attrs:{color:e.power?void 0:"primary",block:"",large:"",depressed:""},on:{click:e.powerOff}},[e._v("\n        Off\n      ")])],1),e._v(" "),r(o.a,{class:["text-center text-h4 user-select-none",{"text--disabled":!e.power||e.mute}],attrs:{cols:"12"}},[e._v("\n      "+e._s(e.power?e.volume:0)+"\n    ")]),e._v(" "),r(o.a,{attrs:{cols:"4"}},[r(n.a,{attrs:{disabled:!e.power,color:e.mute||0===e.volume?"primary":void 0,block:"",large:"",depressed:""},on:{click:e.toggleMute}},[r(v.a,[e._v("mdi-volume-off")])],1)],1),e._v(" "),r(o.a,{attrs:{cols:"4"}},[r(n.a,{attrs:{disabled:!e.power||0===e.volume,block:"",large:"",depressed:""},on:{click:e.volumeDown}},[r(v.a,[e._v("mdi-volume-medium")])],1)],1),e._v(" "),r(o.a,{attrs:{cols:"4"}},[r(n.a,{attrs:{disabled:!e.power||100===e.volume,block:"",large:"",depressed:""},on:{click:e.volumeUp}},[r(v.a,[e._v("mdi-volume-high")])],1)],1),e._v(" "),r(o.a,{attrs:{cols:"12"}},[r(l.a)],1),e._v(" "),e._l(e.inputs,(function(t){var label=t.label,c=t.value;return r(o.a,{key:label,attrs:{cols:"6",sm:"4"}},[r(n.a,{attrs:{disabled:!e.power,color:e.input===c?"primary":void 0,block:"",large:"",depressed:""},on:{click:function(r){return e.selectInput(c)}}},[e._v("\n        "+e._s(label)+"\n      ")])],1)})),e._v(" "),e.presets.length>0?[r(o.a,{attrs:{cols:"12"}},[r(l.a)],1),e._v(" "),e._l(e.presets,(function(t,c){var label=t.label;return r(o.a,{key:label,attrs:{cols:"6",sm:"4"}},[r(n.a,{attrs:{disabled:!e.power,block:"",large:"",depressed:""},on:{click:function(r){return e.selectPreset(c)}}},[e._v("\n          "+e._s(label)+"\n        ")])],1)}))]:e._e()],2),e._v(" "),r(h.a,{attrs:{text:"",bottom:"",color:"error"},model:{value:e.snackbar,callback:function(r){e.snackbar=r},expression:"snackbar"}},[e._v("\n    An error occurred\n  ")])],1)}),[],!1,null,null,null);r.default=component.exports}}]);